(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-651ee6f8"],{"555f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[e._t("default")],2)},s=[],a={name:"Loader"},o=a,u=(n("74ae"),n("2877")),i=Object(u["a"])(o,r,s,!1,null,null,null);t["a"]=i.exports},"74ae":function(e,t,n){"use strict";var r=n("b4ad"),s=n.n(r);s.a},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"sign-up-form"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{on:{click:e.handleSubmit}},[e._v("Sign in")]),n("button",{on:{click:e.register}},[e._v("Register")]),n("Loader",[e._v(e._s(e.statusMessage))])],1)},s=[],a=(n("d3b7"),n("96cf"),n("1da1")),o=n("a078"),u=n("555f"),i={components:{Loader:u["a"]},data:function(){return{username:"",password:"",statusMessage:""}},methods:{login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.username,r=e.password,t.next=3,fetch("".concat(o["a"].API_URL,"/login"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:n,password:r})});case 3:return s=t.sent,a=s.headers.get("Authorization"),t.abrupt("return",new Promise((function(e){setTimeout((function(){e({token:a})}),2e3)})));case 6:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.statusMessage="Signing",t.next=3,e.login();case 3:n=t.sent,r=n.token,r?(e.statusMessage="Success",setTimeout((function(){e.$store.commit("login",{token:r,username:e.username}),e.$router.push("/")}),500)):(e.statusMessage="Failed",e.username="",e.password="");case 6:case"end":return t.stop()}}),t)})))()},register:function(){this.$router.push("/register")}},created:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("username");e&&this.$store.commit("login",{token:e,username:t}),this.$store.state.isLoggedIn&&this.$router.push("/")}},c=i,d=(n("d6db"),n("2877")),l=Object(d["a"])(c,r,s,!1,null,null,null);t["default"]=l.exports},b4ad:function(e,t,n){},d6db:function(e,t,n){"use strict";var r=n("e67a"),s=n.n(r);s.a},e67a:function(e,t,n){}}]);
//# sourceMappingURL=chunk-651ee6f8.4a78d029.js.map